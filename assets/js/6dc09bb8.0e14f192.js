"use strict";(self.webpackChunkadminapp_docs=self.webpackChunkadminapp_docs||[]).push([[9143],{5984:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"getting-started/configuration/client/authorization","title":"Authorization","description":"sessionResolver","source":"@site/docs/getting-started/configuration/client/authorization.md","sourceDirName":"getting-started/configuration/client","slug":"/getting-started/configuration/client/authorization","permalink":"/docs/getting-started/configuration/client/authorization","draft":false,"unlisted":false,"editUrl":"https://github.com/headless-adminapp/headless-adminapp.github.io/tree/main/docs/getting-started/configuration/client/authorization.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"File Service","permalink":"/docs/getting-started/configuration/client/file-service"},"next":{"title":"Internationalization","permalink":"/docs/getting-started/configuration/client/internationalization"}}');var i=n(4848),l=n(8453);const r={},o="Authorization",d={},c=[{value:"<code>sessionResolver</code>",id:"sessionresolver",level:4},{value:"<code>onUnauthorized</code>",id:"onunauthorized",level:4},{value:"<code>AuthPlaceholder</code>",id:"authplaceholder",level:4}];function a(e){const t={code:"code",h1:"h1",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"authorization",children:"Authorization"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",metastring:"AppLayout.tsx",children:"<LayoutProvider\n  authProps={{\n    sessionResolver,\n    onUnauthorized, // optional\n  }}\n  authPlaceholder={AuthPlaceholder}\n>\n...\n</LayoutProvider>\n"})}),"\n",(0,i.jsx)(t.h4,{id:"sessionresolver",children:(0,i.jsx)(t.code,{children:"sessionResolver"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"export type SessionResolver = () => Promise<Session>\n"})}),"\n",(0,i.jsx)(t.p,{children:"A function that returns a promise that resolves to a session object."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Example"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"export const sessionResolver: SessionResolver = async () => {\n  const response = await fetch('/api/session');\n  const session = await response.json();\n  return session;\n};\n"})}),"\n",(0,i.jsx)(t.h4,{id:"onunauthorized",children:(0,i.jsx)(t.code,{children:"onUnauthorized"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"export type OnUnauthorized = (reason: UnauthorizeReason) => void\n"})}),"\n",(0,i.jsx)(t.p,{children:"A function that is called when the user is unauthorized."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Reason"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"sessionExpired"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"The session has expired."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"unauthorized"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"The user is unauthorized."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"logout"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"The user has logged out."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"load"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Found unauthorize while initial load."})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"authplaceholder",children:(0,i.jsx)(t.code,{children:"AuthPlaceholder"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",children:"export const AuthPlaceholder: FC = () => {\n  // Add your custom auth placeholder here\n}\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Props"})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"loading"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"boolean"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Indicates if the session is loading."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"loadingError"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"Error"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"The error that occurred while loading the session."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"unauthorized"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"boolean"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Indicates if the user is unauthorized."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"sessionExpired"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"boolean"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Indicates if the session has expired."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"retry"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"() => void"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"A function to retry loading the session."})]})]})]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{})})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var s=n(6540);const i={},l=s.createContext(i);function r(e){const t=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);